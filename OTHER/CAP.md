# CAP定律

- 任何分布式系统无法同时满足CAP。

## C:一致性（Consistency）

- 写操作之后的读操作，必须返回写操作的值。举例：请求A更新某资源R，把R的某个属性P0改为P1，在请求B中查询到的资源R的属性应该是P1。

- 在分布式系统中，请求A跟请求B可能不是请求的同一个数据源，例如：主从备份，读写分离。

## A:可用性(Consistency)

- 是指用户每一次请求必须快速的给出响应。

## P:分区容忍性(Availability)

- 服务和服务之间可能会出现网络不通的情况，就会出现分区

- 网络不通的情况很难解决，所以乐观的认为不会出现这个情况，已经满足P

## 不能同时满足CAP的原因

- 极端的情况下,由于不可抗力(网络闪断或服务宕机等),导致分区(P)的情况产生, 是否能保证C跟A呢. 

- 为了保证C, 就需要进行补偿的操作, 在分区的网络恢复以后将分区的数据进行同步,

- 这样就可能会导致请求进行阻塞, 只有同步了以后才能响应


# BASE定理

## 基本可用(Basically Available)

假设系统，出现了不可预知的故障，但还是能用，相比较正常的系统而言：
- 响应时间上的损失

    正常情况下的搜索引擎0.5秒即返回给用户结果，而基本可用的搜索引擎可以在2秒作用返回结果。

- 功能上的损失

    在一个电商网站上，正常情况下，用户可以顺利完成每一笔订单。但是到了大促期间，为了保护购物系统的稳定性，部分消费者可能会被引导到一个降级页面。
## 软状态(Soft State)

允许系统中的数据存在中间状态，并认为该状态不影响系统的整体可用性，即允许系统在多个不同节点的数据副本存在数据延时。

## 最终一致性(Eventually Consistent)

系统中所有的数据副本，在经过一段时间的同步后，最终能够达到一个一致的状态而不需要实时保证系统数据的强一致性。



